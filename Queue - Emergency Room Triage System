import java.io.*;
import java.util.*;
import java.text.*;
import java.math.*;
import java.util.regex.*;

class Patient {
    String name;
    int severity;
    Patient(String name, int severity)
    {
        this.name = name;
        this.severity = severity ;
    }
}

public class Solution {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int n =sc.nextInt();
        sc.nextLine();
        Comparator<Patient> c = new Comparator<>()
        {
            public int compare(Patient a, Patient b)
            {
                    return b.severity - a.severity;
            }
};
        PriorityQueue<Patient> qu = new PriorityQueue<>(c);
        for(int i=0;i<n;i++)
        {
            String s = sc.nextLine();
            String arr[] = s.split(" ");
            if(arr[0].equals("ENQUEUE"))
            {
                qu.add(new Patient(arr[1],Integer.parseInt(arr[2])));
            }
            else if(arr[0].equals("DEQUEUE"))
            { if(qu.isEmpty())
                {
                    System.out.println("Queue is empty.");
                }
             else
            {
                Patient treated = qu.remove();
                System.out.println("Treated Patient: "+treated.name);
            }
            }
            else if(arr[0].equals("DISPLAY"))
            {
                if(qu.isEmpty())
                {
                    System.out.println("Queue is empty.");
                }
                else
                {
                    List<Patient> list = new ArrayList<>(qu);
                    list.sort(c);
                 System.out.print("Current Queue: ");
                for(Patient p : list)
                {
                    System.out.print(p.name+"("+p.severity+")"+" ");
                }
                 System.out.println();
                }
            }
        }
    }
}
